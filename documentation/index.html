<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Documentation</title>

    <meta name="description" content="Day 3 Code Refinery TUSAIL">
    <meta name="author" content="Luisa Orozco">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="reveal.js/4.3.1/reveal.js/dist/reset.css">
    <link rel="stylesheet" href="reveal.js/4.3.1/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="reveal.js/4.3.1/reveal.js/dist/theme/black.css" id="theme">
    <!-- fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Assistant">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="reveal.js/4.3.1/reveal.js/plugin/highlight/monokai.css" id="highlight-theme">

    <!-- tweak colors and minor details -->
    <link rel="stylesheet" href="reveal.js/custom_css/escience_4.3.1.css" id="theme">

    <link rel="shortcut icon" type="image/png" href="./files/favicon-32x32.png"/>
  </head>

  <body onload="setTimeout(function(){addDecorations();}, 100);">
    <div class="reveal">

      <div id="hidden" style="display: none;">
        <div id="decoration">
          <div id="blue_pane_left" style="transition: opacity 1s; background-color: #009DDD; opacity: 0; position: absolute; left: 0; right: 50%; bottom: 0; top: 0; z-index: 2;"></div>
          <div id="blue_pane_right" style="transition: opacity 1s; background-color: #009DDD; opacity: 0; position: absolute; left: 50%; right: 0; bottom: 0; top: 0; z-index: 2;"></div>
          <div id="touch_pane" style="background-color: white; transition: opacity 1s; opacity: 0; position: absolute; left: 0; right: 66.6%; bottom: 0; top: 0; display: flex; align-items: center; justify-content: center; z-index: 2;">
            <h1 style="color: black; text-align: left;">Let's stay<br>in touch</h1>
          </div>
          <div id="purple_half_circle_top" style="transition: top 1s; opacity: 1; position: absolute; background-color: #380339; left: 0; top: -17vw; width: 34vw; height: 17vw; border-radius: 0 0 20vw 20vw; z-index: 2;"></div>
          <div id="yellow_half_strip" style="opacity: 1; transition: bottom 1s; position: absolute; background-color: #FFB213; right: 50%; bottom: -25vw; width: 17vw; height: 25vw; border-radius: 20vw 0 0 0; z-index: 2;"></div>
          <div id="purple_strip_bottom" style="opacity: 1; transition: bottom 1s; position: absolute; background-color: #380339; right: calc(50% + 17vw); bottom: -10vw; width: 16vw; height: 10vw; border-radius: 20vw 20vw 0 0; z-index: 2;"></div>
          <div id="logo_color" style="transition: opacity 1s, left 1s; opacity: 0; position: absolute; left: -12vw; top: 1.5vh; z-index: 2;">
            <img style="width: 12vw;" src="./files/logo-fc.svg">
          </div>
          <div id="logo_part_white" style="transition: opacity 1s, left 1s; opacity: 0; position: absolute; left: -12vw; top: 1.5vh; z-index: 2;">
            <img style="width: 12vw;" src="./files/logo-fc-part-white.svg">
          </div>
          <div id="logo_white" style="transition: opacity 1s, left 1s; opacity: 0; position: absolute; left: -12vw; top: 1.5vh; z-index: 2;">
            <img style="width: 12vw;" src="./files/logo-fc-white.svg">
          </div>
          <div id="purple_overlay" style="background-color: #380339; opacity: 0; transition: opacity 1s; position: absolute; left: 0; right: 0; bottom: 0; top: 0; z-index: 1;">
          </div>
          <div id="blue_overlay" style="background-color: #009DDD; opacity: 0; transition: opacity 1s; position: absolute; left: 0; right: 0; bottom: 0; top: 0; z-index: 1;">
          </div>
          <div id="white_overlay" style="background-color: white; opacity: 0; transition: opacity 1s; position: absolute; left: 0; right: 0; bottom: 0; top: 0; z-index: 1;">
          </div>
          <div id="black_overlay" style="background-color: black; opacity: 0; transition: opacity 1s; position: absolute; left: 0; right: 0; bottom: 0; top: 0; z-index: 1;">
          </div>
          <div id="yellow_strip" style="background-color: #FFB213; transition: left 1s; width: 10vw; height: 70vh; border-radius: 10vw 10vw 0 0; z-index: 2; position: absolute; left: -10vw; bottom: 0;">
          </div>
          <div id="yellow_flag" style="background-color: #FFB213; transition: left 1s, bottom 1s; width: 10vh; height: 12vh; border-radius: 0 6vh 6vh 0; z-index: 3; position: absolute; left: -10vh; bottom: 5vh; margin: 0; padding: 0;">
            <img id="left_e" src="./files/e-logo.svg" style="position: absolute; height: 10vh; margin: 1vh 0; padding: 0;"></img>
          </div>
          <div id="purple_half_circle_bottom" style="transition: bottom 1s; background-color: #380339; width: 20vw; height: 10vw; border-radius: 20vw 20vw 0 0; z-index: 2; position: absolute; left: 0; bottom: -10vw;">
            <img id="left_e" src="./files/logo-fc-part-white.svg" style="position: absolute; bottom: 2vw; left: 6vw; width: 8vw;"></img>
          </div>
          <div id="purple_blob" style="transition: top 1s; position: absolute; display: flex; right: 0; top: -50vh; z-index: 2;">
            <div style="background-color: #380339; width: 10vw; height: 25vh; border-radius: 0 0 10vw 10vw;">
            </div>
            <div style="background-color: #380339; width: 10vw; height: 50vh; border-radius: 0 0 10vw 10vw;">
            </div>
            <div class="box" style="background: #380339; position: absolute; right: 10vw; top: 0; width: 5vw; height: calc(25vh + 5vw); border-corner-shape: scoop; background: yellow; background: linear-gradient(45deg,  transparent 10vw, #380339 0) bottom left; background-image: radial-gradient(circle at 0 100%, rgba(204,0,0,0) 5vw, #380339 15px)">
            </div>
          </div>
          <div id="blue_strip" style="background-color: #009DDD; transition: left 1s, right 1s; margin: 0; padding: 0; border-radius: 20vw 0 0 0; z-index: 2; position: absolute; right: -100vw; bottom: 0;">
            <div id="footer" style="text-align: right; line-height: 130%; padding: 0; margin: 1vw 1vw 1vw 3vw; bottom: 0; right: 0;">
            </div>
          </div>
          <img id="right_e" src="./files/letter-e.svg" style="transition: right 1s, top 1s; position: absolute; top: 10vh; right: -4vw; width: 4vw; z-index: 3;"></img>
        </div>
      </div>

      <div class="slides">
        <section data-markdown="00_title.md" data-separator=^\r?\n===\r?\n$ data-separator-vertical=^\r?\n---\r?\n$>
<!--
title: Documentation
description: Day 3 Code Refinery TUSAIL
author: Luisa Orozco
version: 4.3.1
plugins: RevealMarkdown, RevealChalkboard, RevealHighlight, RevealMath.KaTeX, RevealMenu, RevealNotes, RevealSearch, RevealZoom
-->

<!-- .slide: data-state="blue_overlay yellow_flag yellow_strip purple_half_circle_bottom purple_blob right_e_top" data-background-video="./files/Mood video Homepage 2.mp4" data-background-video-loop data-background-video-muted="true" -->

# Documentation

[Luisa Orozco](mailto:l.orozco@esciencecenter.nl)

===

<!-- .slide: data-state="standard" -->

# 05. Code Documentation

<img style="height: 350px;" src="./files/paint.png"/>

---

<!-- .slide: data-state="standard" -->

<img style="height: 350px;" src="./files/dev_speed_time_2.svg"/>

---

<!-- .slide: data-state="standard" -->

## Code documentation lesson

+ Why would you document software?
+ What makes good documentation?
+ How do I write good in-code documentation?
+ How do I write good README files?
+ Demo creating documentation with Sphinx and deploying to Github pages.
+ **Independent of programming languages**

===

<!-- .slide: data-state="standard" -->

## Episode 1: Motivation and wishlist

+ Why documenting code?
+ What is our wishlist on a suitably good documentation?
+ Is project documentation important? Why? Take a few moments to think about it.

---

<!-- .slide: data-state="standard" -->

## Exercise 1: Think of good and bad examples

Write down your thoughts in the collaborative documents.
Respond with emojis üëç üôÄ to your colleagues' answers.

+ Think of projects of which you like the documentation. What do you like about them?
+ Think of projects for which you don't like the documentation. What don't you like about them? Are you missing anything?

<quotation>NB: You can choose a mature library with lots of users for this exercise, but try to also think of less mature projects you had to collaborate on, or papers you had to reproduce.</quotation>

---

<!-- .slide: data-state="standard" -->

## What did we learn?

+ It is important to document code.
+ Depending on the purpose and state of the project documentation needs to meet different criteria. 
+ For most scientific projects, in-code documentation and a well thought out README file is enough.
+ Documentation should be tracked with corresponding code.

===

<!-- .slide: data-state="standard" -->

## Episode 2: in-code documentation

+ What can I do to make my code more easily understandable?
+ What information should go into comments?
+ What information should go into docstrings?

---

<!-- .slide: data-state="standard" -->

## Exercise 2: Writing good comments

Let's take a look at two example comments (comments in python start with #):

**Comment A**

<pre data-id="code-animation"><code style="overflow: hidden;" data-trim class="python">
# Now we check if temperature is larger then -50:
if temperature > -50:
    print('do something')
</code></pre>

**Comment B**

<pre data-id="code-animation"><code style="overflow: hidden;" data-trim class="python">
# We regard temperatures below -50 degrees as measurement errors
if temperature > -50:
    print('do something')
</code></pre>

Which of these comments is best? Can you explain why?

---

<!-- .slide: data-state="standard" -->

Do not use comments for:

+ Keeping zombie üßü code
<pre data-id="code-animation"><code style="overflow: hidden;" data-trim class="python">
# Do not run this code!:
# if temperature > 0:
#     print('It is warm')
</code></pre>

<div class="fragment">
<ul>
  <li>Replacing git</li>
</ul>
<pre style="width: max-content;" data-id="code-animation"><code style="overflow: hidden;" data-trim class="python">
# removed on August 5
# if() ...
# Now it connects to the API with o-auth2, updated 05/05/2016
</code></pre>
</div>

---

<!-- .slide: data-state="standard" -->

_Let's write some docstrings in python_

>üíª Code along

---

<!-- .slide: data-state="standard" -->

## Exercise 3: Adding in-code documentation

Add this code to your project and update this code snippet so it is well-documented:

<pre data-id="code-animation"><code style="overflow: hidden;" data-trim class="python">
import pandas as pd

def x(a, print_columns=False):
   b = pd.read_excel(a)
   column_headers = list(b.columns.values)
   if print_columns:
       print("\n".join(column_headers))
   return column_headers
</code></pre>

---

<!-- .slide: data-state="standard" -->

## Keypoints Episode 2

<style>
blockquote {
  width: 80% !important;
}
</style>

> Giving explicit, descriptive names to your code segments (functions, classes, variables) already provides very useful and important documentation. In practice you will find that for simple functions it is unnecessary to add a docstring when the function name and variable names already give enough information.

+ Comments should describe the why for your code not the what.
+ Writing docstrings is an easy way to write documentation while you type code.

===

<!-- .slide: data-state="standard" -->

## Episode 3: Writing a good README file

+ README file is first thing a user/collaborator sees
+ What should be included as a bare minimum in README files?

---

<!-- .slide: data-state="standard" -->

## Exercise 4: Write a README file

üìù Try to draft a brief README or review a README which you have written for one of your projects.

---

<!-- .slide: data-state="standard" -->

## What makes up a good README file?

+ A descriptive project title
+ Motivation (why the project exists) and basics
+ Installation / How to setup
+ Copy-pasteable quick start code example
+ Usage reference (if not elsewhere)
+ Recommended citation if someone uses it
+ Other related tools ("see also")

---

<!-- .slide: data-state="standard" -->

## User experience

Think about the user (which can be a future you) of your project.

+ What does this user need to know to use or contribute to the project?
+ How do you make your project attractive to use or contribute to?

===

<!-- .slide: data-state="standard" -->

## Episode 4: Sphinx documentation

+ What if a README file is not enough?
+ How do I easily create user documentation?

---

<!-- .slide: data-state="standard" -->

## Tools

+ **Sphinx** (documentation generator) lets you create nicely-formatted HTML pages out of simple markdown files. It is programming language-independent.
+ **Github pages** (deploy your documentation) easily connects to your github repository and automatically deploys your Sphinx documentation for free!

_Let's create documentation four our projects with Sphinx_

>üíª Code along

===

<!-- .slide: data-state="standard" -->

## Recap documentation

+ What questions do you still have?
+ Whether there are any incremental improvements that can benefit your projects?
+ What is nice that we learnt but is overkill for your current work?

---

<!-- .slide: data-state="standard" -->

## Take-home message

+ It is important to document code.
+ Depending on the purpose and state of the project documentation needs to meet different criteria.

</section>

      </div>
    </div>

    <script src="reveal.js/4.3.1/reveal.js/dist/reveal.js"></script>
    <script src="reveal.js/4.3.1/reveal.js/plugin/zoom/zoom.js"></script>
    <script src="reveal.js/4.3.1/reveal.js/plugin/math/math.js"></script>
    <script src="reveal.js/4.3.1/reveal.js/plugin/notes/notes.js"></script>
    <script src="reveal.js/4.3.1/reveal.js/plugin/search/search.js"></script>
    <script src="reveal.js/4.3.1/reveal.js/plugin/markdown/markdown.js"></script>
    <script src="reveal.js/4.3.1/reveal.js/plugin/highlight/highlight.js"></script>
    <script src="reveal.js/4.3.1/reveal.js-plugins/menu/menu.js"></script>
    <script src="reveal.js/4.3.1/reveal.js-plugins/chalkboard/plugin.js"></script>
    <!-- Font awesome -->
    <link rel="stylesheet" href="reveal.js/4.3.1/reveal.js-plugins/menu/font-awesome/css/fontawesome.css">
    <link rel="stylesheet" href="reveal.js/4.3.1/reveal.js-plugins/chalkboard/style.css">

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        center: true,
        hash: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        menu: { // Menu works best with font-awesome installed: sudo apt-get install fonts-font-awesome
          themes: false,
          transitions: false,
          markers: true,
          hideMissingTitles: true,
        },
        dependencies: [
          {src: 'reveal.js/4.3.1/reveal.js-plugins/reveal.js-d3/reveald3.js'}
        ],
        chalkboard: { // font-awesome.min.css must be available
          //		src: "chalkboard/chalkboard.json",
          storage: "chalkboard-demo",
          toggleChalkboardButton: { left: "80px" },
          toggleNotesButton: { left: "130px" },
          readOnly: false,
        },
        plugins: [ RevealMarkdown, RevealChalkboard, RevealHighlight, RevealMath.KaTeX, RevealMenu, RevealNotes, RevealSearch, RevealZoom ]
      });
    </script>

    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"></script>
    <script type="text/javascript">
      var decoration = $('#decoration').html();
      if ( window.location.search.match( /print-pdf/gi ) ) {
        // for pdf export
        // 3. On Reveal.js ready event, copy decoration <div> into each `.slide-background` <div>
        Reveal.addEventListener( 'ready', function( event ) {
          $('.slide-background').append(decoration);
        });
      }
      else {
        // for viewing slides
        $('div.reveal').append(decoration);
        $('#decoration').remove(); // without this the fadeIn/fadeOut below does not work. why is this necessary?
      };
      function setLogoStyle(style) {
        //style must be one of {"logo_color","logo_white","logo_part_white"}

        //unset everything
        document.getElementById("logo_color").style.opacity = 0;
        document.getElementById("logo_white").style.opacity = 0;
        document.getElementById("logo_part_white").style.opacity = 0;

        //set only what we want
        document.getElementById(style).style.opacity = 1;
      };
      var overview_shown = false;
      function getOpacity(data_state) {
        var opacity = 0.8;
        for (let i = 0; i < 11; i++) {
          if (data_state.includes(i)) { opacity = i/10; console.log("opacity set to " + opacity)}
        };
        return opacity
      };
      function addDecorations() {
        console.log("== set decorations ==")
        var currentSlide = Reveal.getCurrentSlide();
        console.log(currentSlide.querySelector("footer"));
        if (currentSlide.contains(currentSlide.querySelector('footer')))
        {
          document.getElementById("footer").innerHTML = currentSlide.querySelector('footer').innerHTML;
          document.getElementById("blue_strip").style.right = 0;
          console.log("footer (and blue_strip)");
        } else {
          document.getElementById("blue_strip").style.right = "-" + document.getElementById("blue_strip").offsetWidth + "px";
          console.log("no footer");
        };
        if ( currentSlide.getAttribute('data-state') )
        {
          var data_state = currentSlide.getAttribute('data-state')
          var opacity = getOpacity(data_state);
          console.log("DS" + data_state)
          // pre-set slide designs

          // standard
          if ( data_state.includes("standard"))
          {
            data_state += " logo yellow_flag white_overlay";
          };

          // two_pane
          if ( data_state.includes("two_pane"))
          {
            data_state += " logo yellow_flag white_overlay blue_pane_right";
          };

          // about
          if ( data_state.includes("about"))
          {
            data_state += " logo white_overlay blue_pane_left purple_half_circle_top purple_strip_bottom yellow_half_strip";
          };

          // touch
          if ( data_state.includes("touch"))
          {
            data_state += " logo blue_overlay touch_pane purple_blob right_e_bottom";
          };

          // individual elements

          // purple overlay
          if ( data_state.includes("purple_overlay"))
          {
            document.getElementById("purple_overlay").style.opacity = opacity;
            document.getElementById("purple_overlay").style.transform = "translateY(0)";
            document.getElementById("logo_color").style.opacity = 0;
            document.getElementById("logo_white").style.opacity = 0;
            document.getElementById("logo_part_white").style.opacity = 1;
            currentSlide.classList.remove("has-light-background");
            console.log("purple overlay");
          } else {
            document.getElementById("purple_overlay").style.opacity = 0;
            console.log("no purple overlay");
          };

          // white overlay
          if ( data_state.includes("white_overlay"))
          {
            document.getElementById("white_overlay").style.opacity = opacity;
            document.getElementById("white_overlay").style.transform = "translateY(0)";
            document.getElementById("logo_color").style.opacity = 1;
            document.getElementById("logo_white").style.opacity = 0;
            document.getElementById("logo_part_white").style.opacity = 0;
            currentSlide.classList.add("has-light-background");
            console.log("white overlay");
          } else {
            document.getElementById("white_overlay").style.opacity = 0;
            console.log("no white overlay");
          };

          // black overlay
          if ( data_state.includes("black_overlay"))
          {
            document.getElementById("black_overlay").style.opacity = opacity;
            document.getElementById("black_overlay").style.transform = "translateY(0)";
            document.getElementById("logo_color").style.opacity = 0;
            document.getElementById("logo_white").style.opacity = 0;
            document.getElementById("logo_part_white").style.opacity = 1;
            currentSlide.classList.remove("has-light-background");
            console.log("black overlay");
          } else {
            document.getElementById("black_overlay").style.opacity = 0;
            console.log("no black overlay");
          };

          // blue overlay
          if ( data_state.includes("blue_overlay"))
          {
            document.getElementById("blue_overlay").style.opacity = opacity;
            document.getElementById("blue_overlay").style.transform = "translateY(0)";
            document.getElementById("logo_color").style.opacity = 0;
            document.getElementById("logo_white").style.opacity = 1;
            document.getElementById("logo_part_white").style.opacity = 0;
            currentSlide.classList.remove("has-light-background");
            console.log("blue overlay");
          } else {
            document.getElementById("blue_overlay").style.opacity = 0;
            console.log("no blue overlay");
          };

          // blue pane right
          if ( data_state.includes("blue_pane_right"))
          {
            document.getElementById("blue_pane_right").style.opacity = 1;
            currentSlide.classList.remove("has-dark-background");
            currentSlide.classList.add("has-light-background");
            console.log("blue_pane_right");
          } else {
            document.getElementById("blue_pane_right").style.opacity = 0;
            console.log("no blue_pane_right");
          };

          // blue pane left
          if ( data_state.includes("blue_pane_left"))
          {
            document.getElementById("blue_pane_left").style.opacity = 1;
            setLogoStyle("logo_white");
            currentSlide.classList.remove("has-dark-background");
            currentSlide.classList.add("has-light-background");
            console.log("blue_pane_left");
          } else {
            document.getElementById("blue_pane_left").style.opacity = 0;
            console.log("no blue_pane_left");
          };

          // touch pane
          if ( data_state.includes("touch_pane"))
          {
            document.getElementById("touch_pane").style.opacity = 1;
            setLogoStyle("logo_color");
            currentSlide.classList.remove("has-light-background");
            currentSlide.classList.add("has-dark-background");
            console.log("touch_pane");
          } else {
            document.getElementById("touch_pane").style.opacity = 0;
            console.log("no touch_pane");
          };

          // logo
          if ( data_state.includes("logo"))
          {
            document.getElementById("logo_color").style.left = 3 + "vw";
            document.getElementById("logo_part_white").style.left = 3 + "vw";
            document.getElementById("logo_white").style.left = 3 + "vw";
            console.log("logo");
          } else {
            document.getElementById("logo_color").style.left = -12 + "vw";
            document.getElementById("logo_part_white").style.left = -12 + "vw";
            document.getElementById("logo_white").style.left = -12 + "vw";
            console.log("no logo");
          };

          // yellow strip
          if ( data_state.includes("yellow_strip"))
          {
            document.getElementById("yellow_strip").style.left = 0;
            console.log("yellow_strip");
          } else {
            document.getElementById("yellow_strip").style.left = -10 + "vw";
            console.log("no yellow_strip");
          };

          // yellow flag
          if ( data_state.includes("yellow_flag"))
          {
            document.getElementById("yellow_flag").style.left = 0;
            console.log("yellow_flag");
          } else {
            document.getElementById("yellow_flag").style.left = -10 + "vh";
            console.log("no yellow_flag");
          };

          // purple half circle top
          if ( data_state.includes("purple_half_circle_top"))
          {
            document.getElementById("purple_half_circle_top").style.top = 0;
            setLogoStyle("logo_part_white");
            console.log("purple_half_circle_top");
          } else {
            document.getElementById("purple_half_circle_top").style.top = -17 + "vw";
            console.log("no purple_half_circle_top");
          };

          // purple half circle bottom
          if ( data_state.includes("purple_half_circle_bottom"))
          {
            document.getElementById("purple_half_circle_bottom").style.bottom = 0;
            document.getElementById("yellow_flag").style.bottom = 20 + "vh";
            console.log("purple_half_circle_bottom");
          } else {
            document.getElementById("purple_half_circle_bottom").style.bottom = -10 + "vw";
            document.getElementById("yellow_flag").style.bottom = 5 + "vh";
            console.log("no purple_half_circle_bottom");
          };

          // purple strip bottom
          if ( data_state.includes("purple_strip_bottom"))
          {
            document.getElementById("purple_strip_bottom").style.bottom = 0;
            console.log("purple_strip_bottom");
          } else {
            document.getElementById("purple_strip_bottom").style.bottom = -10 + "vw";
            console.log("no purple_strip_bottom");
          };

          // yellow_half_strip
          if ( data_state.includes("yellow_half_strip"))
          {
            document.getElementById("yellow_half_strip").style.bottom = 0;
            console.log("yellow_half_strip");
          } else {
            document.getElementById("yellow_half_strip").style.bottom = -25 + "vw";
            console.log("no yellow_half_strip");
          };

          // purple blob
          if ( data_state.includes("purple_blob"))
          {
            document.getElementById("purple_blob").style.top = 0;
            console.log("purple_blob");
          } else {
            document.getElementById("purple_blob").style.top = -50 + "vh";
            console.log("no purple_blob");
          };

          // right_e
          if ( data_state.includes("right_e_top"))
          {
            document.getElementById("right_e").style.top = 10 + "vh";
            document.getElementById("right_e").style.right = 0;
            console.log("right_e_top");
          } else if ( data_state.includes("right_e_bottom")){
            document.getElementById("right_e").style.top = 60 + "vh";
            document.getElementById("right_e").style.right = 0;
            console.log("right_e_bottom");
          } else {
            document.getElementById("right_e").style.right = -4 + "vw";
            console.log("no right_e");
          };

          // clear the background so that the overlays don't interfere
          // with underlying iframe
          if ( data_state.includes("clear_background"))
          {
            document.getElementById("purple_overlay").style.transform = "translateY(100vh)";
            document.getElementById("white_overlay").style.transform = "translateY(100vh)";
            document.getElementById("black_overlay").style.transform = "translateY(100vh)";
            document.getElementById("blue_overlay").style.transform = "translateY(100vh)";
            document.getElementById("blue_pane_right").style.transform = "translateY(100vh)";
            document.getElementById("blue_pane_left").style.transform = "translateY(100vh)";
            document.getElementById("touch_pane").style.transform = "translateY(100vh)";
          };
        }
        else
        {
          console.log("nothing special")
        };
      };

      function removeDecorations() {
        console.log("removeDecorations")
        document.getElementById("purple_overlay").style.opacity = 0;
        document.getElementById("white_overlay").style.opacity = 0;
        document.getElementById("black_overlay").style.opacity = 0;
        document.getElementById("blue_overlay").style.opacity = 0;
        document.getElementById("blue_pane_right").style.opacity = 0;
        document.getElementById("blue_pane_left").style.opacity = 0;
        document.getElementById("touch_pane").style.opacity = 0;
        document.getElementById("logo_color").style.left = -12 + "vw";
        document.getElementById("logo_part_white").style.left = -12 + "vw";
        document.getElementById("logo_white").style.left = -12 + "vw";
        document.getElementById("yellow_strip").style.left = -10 + "vw";
        document.getElementById("yellow_flag").style.left = -10 + "vh";
        document.getElementById("purple_half_circle_top").style.top = -17 + "vw";
        document.getElementById("purple_half_circle_bottom").style.bottom = -10 + "vw";
        document.getElementById("purple_strip_bottom").style.bottom = -10 + "vw";
        document.getElementById("yellow_half_strip").style.bottom = -25 + "vw";
        document.getElementById("purple_blob").style.top = -50 + "vh";
        document.getElementById("right_e").style.right = -4 + "vw";
        document.getElementById("blue_strip").style.right = "-" + document.getElementById("blue_strip").offsetWidth + "px";
      };

      Reveal.on( 'slidechanged', event => {
        if (overview_shown == false)
        {
          addDecorations();
        }
      });
      Reveal.on( 'overviewshown', event => {
        overview_shown = true;
        removeDecorations();
      });
      Reveal.on( 'overviewhidden', event => {
        overview_shown = false;
        addDecorations();
      });
    </script>

  </body>
</html>